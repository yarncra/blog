(function(){"use strict";var e={3062:function(e,t,s){var a=s(6369),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("BHeader"),t("router-view",{key:e.$route.fullPath})],1)},r=[],o=function(){var e=this,t=e._self._c;return t("header",{staticClass:"header"},[t("div",{staticClass:"global-container"},[t("div",{staticClass:"header__inner"},[t("router-link",{staticClass:"header__logo-link",attrs:{to:{name:e.$store.state.auth.isLoggedIn?"main-feed":"login"}}},[e._v(" conduit")]),!1===e.$store.state.auth.isLoggedIn?[t("div",{staticClass:"header__nav-items-burger",class:{"header__nav-items-burger-toggle":e.isActive},on:{click:function(t){e.isActive=!e.isActive}}},[t("span"),t("span"),t("span")]),t("div",{staticClass:"header__nav-items-mobile",class:{"header__nav-items-mobile-active":e.isActive}},[t("div",{staticClass:"header__nav-item-wrapper",on:{click:function(t){e.isActive=!e.isActive}}},[t("router-link",{staticClass:"header__nav-item-login",attrs:{"active-class":"active",to:{name:"login"}}},[e._v("Войти ")])],1),t("div",{staticClass:"header__nav-item-wrapper",on:{click:function(t){e.isActive=!e.isActive}}},[t("router-link",{staticClass:"header__nav-item-register",attrs:{"active-class":"active",to:{name:"register"}}},[e._v(" Зарегистрироваться ")])],1)]),t("div",{staticClass:"header__nav-items"},[t("router-link",{staticClass:"header__nav-item-login",attrs:{"active-class":"active",to:{name:"login"}}},[e._v("Войти ")]),t("router-link",{staticClass:"header__nav-item-register",attrs:{"active-class":"active",to:{name:"register"}}},[e._v(" Зарегистрироваться ")])],1)]:e._e(),e.$store.state.auth.isLoggedIn?[t("div",{staticClass:"header__nav-items-burger",class:{"header__nav-items-burger-toggle":e.isActive},on:{click:function(t){e.isActive=!e.isActive}}},[t("span"),t("span"),t("span")]),t("div",{staticClass:"header__nav-items-mobile",class:{"header__nav-items-mobile-active":e.isActive}},[t("div",{staticClass:"header__nav-item-wrapper",on:{click:function(t){e.isActive=!e.isActive}}},[t("router-link",{staticClass:"header__nav-item",attrs:{"active-class":"active",to:{name:"editor"}}},[e._v(" Создать пост ")])],1),t("div",{staticClass:"header__nav-item-wrapper",on:{click:function(t){e.isActive=!e.isActive}}},[t("router-link",{staticClass:"header__nav-item",attrs:{"active-class":"active",to:{name:"settings"}}},[e._v(" Настройки ")])],1),t("div",{staticClass:"header__nav-item-wrapper",on:{click:function(t){e.isActive=!e.isActive}}},[t("router-link",{staticClass:"header__nav-item",attrs:{to:{name:"profile",params:{slug:e.$store.state.auth.currentUser.username}}}},[t("img",{staticClass:"header__nav-item-img",attrs:{src:e.$store.state.auth.currentUser.image?e.$store.state.auth.currentUser.image:"https://api.realworld.io/images/smiley-cyrus.jpeg",alt:""}}),e._v(" "+e._s(e.$store.state.auth.currentUser.username)+" ")])],1)]),t("div",{staticClass:"header__nav-items"},[t("div",{staticClass:"header__nav-item-wrapper"},[t("router-link",{staticClass:"header__nav-item",attrs:{"active-class":"active",to:{name:"editor"}}},[e._v(" Создать пост ")])],1),t("div",{staticClass:"header__nav-item-wrapper"},[t("router-link",{staticClass:"header__nav-item",attrs:{"active-class":"active",to:{name:"settings"}}},[e._v("Настройки ")])],1),t("div",{staticClass:"header__nav-item-wrapper"},[t("router-link",{staticClass:"header__nav-item",attrs:{to:{name:"profile",params:{slug:e.$store.state.auth.currentUser.username}}}},[t("img",{staticClass:"header__nav-item-img",attrs:{src:e.$store.state.auth.currentUser.image?e.$store.state.auth.currentUser.image:"https://api.realworld.io/images/smiley-cyrus.jpeg",alt:""}}),e._v(" "+e._s(e.$store.state.auth.currentUser.username)+" ")])],1)])]:e._e()],2)])])},l=[],n={data(){return{isActive:!1}}},c=n,d=s(1001),u=(0,d.Z)(c,o,l,!1,null,null,null),m=u.exports,g={components:{BHeader:m},mounted(){this.$store.dispatch("getCurrentUser").catch((()=>{this.$store.state.auth.isLoggedIn||this.$router.push({name:"login"})}))}},v=g,p=(0,d.Z)(v,i,r,!1,null,null,null),f=p.exports,h=s(2631),_=function(){var e=this,t=e._self._c;return t("section",{staticClass:"register"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row auth-form"},[t("div",{staticClass:"col-md-6 col-lg-6 col-6 mx-auto"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fs-3"},[e._v("Регистрация")]),t("router-link",{attrs:{to:{name:"login"}}},[t("p",{staticClass:"fs-6"},[e._v("У меня есть аккаунт")])])],1),e.$store.state.auth.validationsError?t("BValidationErrors",{attrs:{validationsError:e.$store.state.auth.validationsError}}):e._e(),t("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"mb-3 mt-5"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",class:{"is-valid":e.$v.username.required&&e.$v.username.minLength&&e.$v.username.maxLength,"is-invalid":e.$v.username.$dirty&&e.$v.username.$invalid},attrs:{placeholder:"Имя",type:"text",id:"username"},domProps:{value:e.username},on:{blur:function(t){return e.$v.username.$touch()},focus:e.resetValidationsError,input:function(t){t.target.composing||(e.username=t.target.value)}}}),e.$v.username.required?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Обязательное поле для заполнения ")])]),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",class:{"is-valid":e.$v.email.required&&e.$v.email.email,"is-invalid":e.$v.email.$dirty&&e.$v.email.$invalid},attrs:{placeholder:"Почта",type:"email",id:"email"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},focus:e.resetValidationsError,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.$v.email.required?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Обязательное поле для заполнения ")]),e.$v.email.email?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Не корректный email ")])]),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:{"is-valid":e.$v.password.required&&e.$v.password.minLength&&e.$v.password.maxLength,"is-invalid":e.$v.password.$dirty&&e.$v.password.$invalid},attrs:{placeholder:"Пароль",type:"password",id:"password"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},focus:e.resetValidationsError,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.required?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Обязательное поле для заполнения ")]),e.$v.password.minLength?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Минимальная длина символов 6 ")]),e.$v.password.maxLength?e._e():t("div",{staticClass:"invalid-feedback"},[e._v(" Максимальная длина символов 20 ")])]),t("div",{staticClass:"text-end"},[t("button",{staticClass:"btn btn-primary px-4",attrs:{type:"submit",disabled:e.$store.state.auth.isSubmitting||e.validForm||e.$store.state.auth.validationsError}},[e._v(" Зарегистрироваться ")])])])],1)])])])},F=[],C=s(5795),b=s(3822),$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"validation-errors"},[t("ul",{staticClass:"alert alert-danger"},e._l(e.errorMessages,(function(s){return t("li",{key:s},[e._v(" "+e._s(s)+" ")])})),0)])},w=[],S={props:{validationsError:{type:Object,require:!0,default(){return{}}}},computed:{errorMessages(){return Object.keys(this.validationsError).map((e=>{const t=e+" "+this.validationsError[e].join();return t}))}}},P=S,y=(0,d.Z)(P,$,w,!1,null,null,null),L=y.exports,k={components:{BValidationErrors:L},data(){return{username:"",email:"",password:""}},validations:{username:{required:C.C1,minLength:(0,C.Ei)(1),maxLength:(0,C.BS)(20)},email:{required:C.C1,email:C.Do},password:{required:C.C1,minLength:(0,C.Ei)(6),maxLength:(0,C.BS)(20)}},methods:{...(0,b.nv)(["register"]),resetValidationsError(){this.$store.commit("resetValidationsError")},onSubmit(){this.register({username:this.username,email:this.email,password:this.password}).then((e=>{this.$router.push({name:"main-feed"})}))}},mounted(){},computed:{validForm(){return this.$v.username.$invalid||this.$v.email.$invalid||this.$v.password.$invalid}}},x=k,A=(0,d.Z)(x,_,F,!1,null,null,null),U=A.exports,T=function(){var e=this,t=e._self._c;return e.$store.state.auth.isLoggedIn?t("div",{staticClass:"main-feed"},[e.$store.state.userFeed.isLoading||e.$store.state.globalFeed.isLoading||e.$store.state.tags.isLoading?t("BSpinner"):e._e(),t("div",{staticClass:"global-container"},[t("div",{staticClass:"main-feed__inner"},[t("div",{staticClass:"main-feed__header-inner"},[t("div",{staticClass:"main-feed__header"},e._l(e.buttons,(function(s){return t("div",{key:s.id,staticClass:"main-feed__header-btn"},[s.visible?t("button",{staticClass:"global-feed__btn feed-btn",class:{"global-feed__btn-active":s.active},on:{click:function(t){return e.setActive(s.id)}}},[e._v(" "+e._s(s.name)+" ")]):e._e()])})),0),e.$store.state.auth.isLoggedIn?[1===e.buttonId?t("BGlobalFeed"):e._e(),2===e.buttonId?t("BUserFeed"):e._e(),3===e.buttonId?t("BTagsFeed"):e._e()]:[t("BGlobalFeed")]],2),t("BTags",{on:{setTag:e.setTag}})],1)])],1):e._e()},B=[],E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[null!==e.$store.state.userFeed.articles&&e.$store.state.userFeed.articles.length?t("div",{staticClass:"user-feed"},[e._l(e.$store.state.userFeed.articles,(function(s){return t("BFeedItem",{key:s.createdAt,attrs:{article:s},on:{favoriteHandler:e.favoriteHandler}})})),t("paginate",{attrs:{"page-count":50,"click-handler":e.getArticlesFromUserFeed,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination justify-content-center mt-5","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","next-class":"page-item","prev-link-class":"page-link","next-link-class":"page-link"}},[e._v(" > ")])],2):e._e(),null!==e.$store.state.userFeed.articles&&0===e.$store.state.userFeed.articles.length?t("div",{staticClass:"feed-empty text-center"},[t("div",{staticClass:"fs-4"},[e._v("Пусто...")]),t("router-link",{attrs:{to:{name:"editor"}}},[e._v("Создать")])],1):e._e()])},I=[],Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"global-feed-item"},[t("div",{staticClass:"global-feed-item__left-group"},[t("div",{staticClass:"global-feed-item__user-info"},[t("img",{staticClass:"global-feed-item__img",attrs:{src:e.article.author.image,alt:""}}),t("div",{staticClass:"global-feed-item__user"},[t("router-link",{staticClass:"global-feed-item__user-name",attrs:{to:{name:"profile",params:{slug:e.article.author.username}}}},[e._v(" "+e._s(e.article.author.username)+" ")]),t("p",{staticClass:"global-feed-item__user-create-at"},[e._v(" "+e._s(e.article.createdAt)+" ")])],1)]),t("div",{staticClass:"global-feed-item__article"},[t("router-link",{attrs:{to:{name:"article",params:{slug:e.article.slug}}}},[t("h6",{staticClass:"global-feed-item__article-title"},[e._v(" "+e._s(e.article.title)+" ")]),t("p",{staticClass:"global-feed-item__article-description"},[e._v(" "+e._s(e.article.description)+" ")]),t("p",{staticClass:"global-feed-item__read-more-link"},[e._v("Далее...")])])],1)]),t("div",{staticClass:"global-feed-item__right-group"},[t("div",{staticClass:"global-feed-item__favorite d-flex justify-content-end"},[t("button",{staticClass:"btn btn-secondary btn-sm d-flex align-items-center justify-content-evenly",class:{"btn-danger":e.article.favorited},on:{click:function(t){return e.favoriteHandler({favorited:!e.article.favorited,slug:e.article.slug})}}},[t("div",{staticClass:"global-feed-item__favorite-ico"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}})])]),e._v(" "+e._s(e.article.favoritesCount)+" ")])]),e.article.tagList.length?[t("div",{staticClass:"global-feed-item__tags-wrapper"},e._l(e.article.tagList,(function(s){return t("div",{key:s,staticClass:"global-feed-item__tags"},[t("div",{staticClass:"global-feed-item__tag"},[t("router-link",{attrs:{to:{name:"article",params:{slug:e.article.slug}}}},[e._v(" "+e._s(s)+" ")])],1)])})),0)]:e._e()],2)])},q=[],j={props:{article:Object,defalut(){return{}}},methods:{favoriteHandler(e){console.log(e),this.$emit("favoriteHandler",e)}}},N=j,H=(0,d.Z)(N,Z,q,!1,null,null,null),O=H.exports,G={methods:{getArticlesFromUserFeed(e){this.$store.dispatch("getUserFeed",e)},favoriteHandler({favorited:e,slug:t}){e?this.$store.dispatch("postUserFeedFavorited",t):this.$store.dispatch("deleteUserFeedFavorited",t)}},mounted(){this.$store.dispatch("getUserFeed")},components:{BFeedItem:O},computed:{...(0,b.Se)(["articles, isLoading"])}},V=G,D=(0,d.Z)(V,E,I,!1,null,null,null),M=D.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[null!==e.$store.state.globalFeed.articles&&e.$store.state.globalFeed.articles.length?t("div",{staticClass:"global-feed"},[e._l(e.$store.state.globalFeed.articles,(function(s){return t("BFeedItem",{key:s.createdAt,attrs:{article:s},on:{favoriteHandler:e.favoriteHandler}})})),t("paginate",{attrs:{"page-count":50,"click-handler":e.getArticlesFromGlobalFeed,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination justify-content-center mt-5","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","next-class":"page-item","prev-link-class":"page-link","next-link-class":"page-link"}},[e._v(" > ")])],2):e._e(),null!==e.$store.state.globalFeed.articles&&0===e.$store.state.globalFeed.articles.length?t("div",{staticClass:"feed-empty text-center"},[t("div",{staticClass:"fs-4"},[e._v("Пусто...")]),t("router-link",{attrs:{to:{name:"editor"}}},[e._v("Создать")])],1):e._e()])},J=[],R={components:{BFeedItem:O},mounted(){this.$store.dispatch("getGlobalFeed")},methods:{getArticlesFromGlobalFeed(e){this.$store.dispatch("getGlobalFeed",e)},favoriteHandler({favorited:e,slug:t}){e?this.$store.dispatch("postGlobalFavorited",t):this.$store.dispatch("deleteGlobalFavorited",t)}}},K=R,Q=(0,d.Z)(K,z,J,!1,null,null,null),W=Q.exports,X=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"pagination"},[e._m(0),e._l(this.pages,(function(s){return t("li",{key:s,staticClass:"page-item"},[t("router-link",{staticClass:"page-link",attrs:{to:{name:"main-feed"},href:"#"}},[e._v(e._s(s))])],1)})),e._m(1)],2)},Y=[function(){var e=this,t=e._self._c;return t("li",{staticClass:"page-item"},[t("a",{staticClass:"page-link",attrs:{href:"#"}},[e._v("Previous")])])},function(){var e=this,t=e._self._c;return t("li",{staticClass:"page-item"},[t("a",{staticClass:"page-link",attrs:{href:"#"}},[e._v("Next")])])}];const ee=(e,t)=>[...Array(t).keys()].map((t=>t+e));var te={props:{total:{type:Number,requied:!0},limit:{type:Number,required:!0},currentPage:{type:Number,required:!0},url:{type:String,required:!0}},computed:{pages(){const e=Math.ceil(this.total/this.limit);return ee(1,e)}}},se=te,ae=(0,d.Z)(se,X,Y,!1,null,null,null),ie=ae.exports,re=function(){var e=this,t=e._self._c;return e.$store.state.tags.tags.length?t("div",{staticClass:"tags"},[t("h6",{staticClass:"tags__title"},[e._v("Тэги")]),e._l(e.$store.state.tags.tags,(function(s){return t("div",{key:s,staticClass:"tags__item"},[t("div",{on:{click:function(t){return e.getTagsFeed(s)}}},[e._v(e._s(s))])])}))],2):e._e()},oe=[],le={mounted(){this.$store.dispatch("getTags")},methods:{getTagsFeed(e){this.$store.dispatch("getTagsFeed",{page:0,tag:e}),this.$emit("setTag",e)}}},ne=le,ce=(0,d.Z)(ne,re,oe,!1,null,null,null),de=ce.exports,ue=function(){var e=this,t=e._self._c;return e.$store.state.tags.articles.length?t("div",{staticClass:"tags-feed"},e._l(e.$store.state.tags.articles,(function(s){return t("BFeedItem",{key:s.createdAt,attrs:{article:s},on:{favoriteHandler:e.favoriteHandler}})})),1):e._e()},me=[],ge={components:{BFeedItem:O},methods:{favoriteHandler({favorited:e,slug:t}){e?this.$store.dispatch("postTagsFavorited",t):this.$store.dispatch("deleteTagsFavorited",t)}}},ve=ge,pe=(0,d.Z)(ve,ue,me,!1,null,null,null),fe=pe.exports,he=function(){var e=this;e._self._c;return e._m(0)},_e=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"lds-roller"},[t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div")])])}],Fe={},Ce=Fe,be=(0,d.Z)(Ce,he,_e,!1,null,null,null),$e=be.exports,we=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row mt-5 login-form"},[t("div",{staticClass:"col-md-6 col-lg-6 col-6 mx-auto"},[t("div",{staticClass:"text-center"},[t("h1",{staticClass:"fs-3"},[e._v("Вход")]),t("router-link",{attrs:{to:{name:"register"}}},[t("p",{staticClass:"fs-6"},[e._v("Создать новый аккаунт")])])],1),e.$store.state.auth.validationsError?t("BValidationErrors",{attrs:{BValidationsError:e.$store.state.auth.validationsError}}):e._e(),t("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"mb-3 mt-5"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",class:{"is-valid":e.$v.email.required&&e.$v.email.email,"is-invalid":e.$v.email.$dirty&&e.$v.email.$invalid},attrs:{placeholder:"Почта",type:"email",id:"email"},domProps:{value:e.email},on:{blur:function(t){return e.$v.email.$touch()},focus:function(t){return e.$store.commit("resetValidationsError")},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.$v.email.required?e._e():t("div",{staticClass:"invalid-feedback",attrs:{id:"validationServerUsernameFeedback"}},[e._v(" Обязательное поле для заполнения ")]),e.$v.email.email?e._e():t("div",{staticClass:"invalid-feedback",attrs:{id:"validationServerUsernameFeedback"}},[e._v(" Введите корректный email ")])]),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",class:{"is-valid":e.$v.password.required&&e.$v.password.minLength&&e.$v.password.maxLength,"is-invalid":e.$v.password.$dirty&&e.$v.password.$invalid},attrs:{placeholder:"Пароль",type:"password",id:"password"},domProps:{value:e.password},on:{blur:function(t){return e.$v.password.$touch()},focus:function(t){return e.$store.commit("resetValidationsError")},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.$v.password.required?e._e():t("div",{staticClass:"invalid-feedback",attrs:{id:"validationServerUsernameFeedback"}},[e._v(" Обязательное поле для заполнения ")]),e.$v.password.minLength?e._e():t("div",{staticClass:"invalid-feedback",attrs:{id:"validationServerUsernameFeedback"}},[e._v(" Минимальная длина символов 6 ")]),e.$v.password.maxLength?e._e():t("div",{staticClass:"invalid-feedback",attrs:{id:"validationServerUsernameFeedback"}},[e._v(" Максимальная длина символов 20 ")])]),t("div",{staticClass:"text-end"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.$store.state.auth.isSubmitting||e.isValid}},[e._v(" Вход ")])])])],1)])])])},Se=[],Pe={data(){return{email:"",password:""}},validations:{email:{required:C.C1,email:C.Do},password:{required:C.C1,minLength:(0,C.Ei)(6),maxLength:(0,C.BS)(20)}},methods:{onSubmit(){this.$store.dispatch("login",{email:this.email,password:this.password}).then((e=>{this.$router.push({name:"main-feed"})}))}},computed:{isValid(){return this.$v.email.$invalid||this.$v.password.$invalid}},components:{BValidationErrors:L}},ye=Pe,Le=(0,d.Z)(ye,we,Se,!1,null,null,null),ke=Le.exports,xe={data(){return{page:1,tag:"",buttons:[{name:"Все посты",id:1,active:!0,visible:!0},{name:"Интересное",id:2,active:!1,visible:!0},{name:"Тэги",id:3,active:!1,visible:!1}],buttonId:1}},components:{BUserFeed:M,BGlobalFeed:W,BPagination:ie,BTags:de,BTagsFeed:fe,BSpinner:$e,Login:ke},methods:{setTag(e){this.tag="#"+e,this.buttonId=3},setActive(e){this.buttonId=e,this.buttons.map((t=>{t.id===e?t.active=!0:t.active=!1}))}},watch:{tag(){this.buttons.map((e=>{3===e.id?(e.active=!0,e.visible=!0,e.name=this.tag):e.active=!1}))}}},Ae=xe,Ue=(0,d.Z)(Ae,T,B,!1,null,null,null),Te=Ue.exports,Be=function(){var e=this,t=e._self._c;return e.$store.state.auth.isLoggedIn?t("section",{staticClass:"editor"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"fs-3 text-center"},[e._v("Новый пост")]),t("div",{staticClass:"col-9 col-md-9 col-lg-9 mx-auto"},[t("form",{staticClass:"mt-5",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addTag.apply(null,arguments))}}},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{placeholder:"Заголовок",type:"text",id:"article-title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",attrs:{placeholder:"Описание",type:"text",id:"article-description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.body,expression:"body"}],staticClass:"form-control",attrs:{placeholder:"Текст",id:"article-body",rows:"3"},domProps:{value:e.body},on:{input:function(t){t.target.composing||(e.body=t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tag,expression:"tag"}],staticClass:"form-control",attrs:{placeholder:"Введите название тэга и нажмите клавишу enter",type:"text",id:"article-title"},domProps:{value:e.tag},on:{input:function(t){t.target.composing||(e.tag=t.target.value)}}})]),e.tags.length?e._l(e.tags,(function(s){return t("div",{key:s,staticClass:"article__tags"},[t("div",{staticClass:"article__tags-wrapper"},[t("div",{staticClass:"article__tag"},[e._v(e._s(s))]),t("div",{staticClass:"material-icons article__tag-close-ico",on:{click:function(t){return e.removeTag(s)}}},[e._v(" close ")])])])})):e._e()],2),e._m(0)])])])]):e._e()},Ee=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-end mt-3"},[t("button",{staticClass:"btn btn-outline-primary px-5",attrs:{type:"submit"}},[e._v(" Опубликовать ")])])}],Ie={data(){return{title:"",description:"",body:"",tag:"",tags:[]}},methods:{onSubmit(){this.$store.dispatch("postArticle",{article:{title:this.title,description:this.description,body:this.body,tagList:this.tags}}).then((()=>{this.$router.push({name:"main-feed"})}))},addTag(){this.tags.includes(this.tag)||""===this.tag.trim()||this.tags.push(this.tag.trim()),this.tag=""},removeTag(e){this.tags=this.tags.filter((t=>t!==e))}}},Ze=Ie,qe=(0,d.Z)(Ze,Be,Ee,!1,null,null,null),je=qe.exports,Ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"settings"},[e.$store.state.auth.isLoading?t("BSpinner"):e._e(),t("div",{staticClass:"container"},[Object.keys(e.currentUser).length?t("div",{staticClass:"settings mt-5"},[t("h1",{staticClass:"fs-3 text-center"},[e._v("Настройки профиля")]),t("div",{staticClass:"col-9 col-md-9 col-lg-9 mx-auto"},[e.$store.state.auth.isLoading?t("div",{},[e._v("Loading...")]):e._e(),t("form",{staticClass:"mt-5 settigns__form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.image,expression:"form.image"}],staticClass:"form-control",attrs:{placeholder:"Ссылка на изображение",type:"text",id:"url-profile-picture"},domProps:{value:e.form.image},on:{input:function(t){t.target.composing||e.$set(e.form,"image",t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{placeholder:"Имя пользователя",type:"text",id:"username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.bio,expression:"form.bio"}],staticClass:"form-control",attrs:{placeholder:"О себе",id:"bio",rows:"3"},domProps:{value:e.form.bio},on:{input:function(t){t.target.composing||e.$set(e.form,"bio",t.target.value)}}}),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{placeholder:"Почта",type:"text",id:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{placeholder:"Пароль",type:"password",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})])])]),t("div",{staticClass:"d-flex justify-content-between mt-5"},[t("button",{staticClass:"btn btn-outline-danger px-5",attrs:{type:"button"},on:{click:e.logout}},[e._v(" Выйти ")]),t("button",{staticClass:"btn btn-outline-primary px-5",attrs:{type:"submit"}},[e._v(" Обновить ")])])])])]):e._e()])],1)},He=[],Oe={data(){return{}},computed:{...(0,b.Se)(["currentUser"]),form(){return Object.keys(this.currentUser).length?{image:this.currentUser.image,username:this.currentUser.username,bio:this.currentUser.bio,email:this.currentUser.email,password:""}:{image:"",username:"",bio:"",email:"",password:""}}},methods:{onSubmit(){this.$store.dispatch("updateSettings",{image:this.form.image,username:this.form.username,bio:this.form.bio,email:this.form.email,password:this.form.email}).then((()=>this.$router.push({name:"main-feed"})))},logout(){this.$store.dispatch("logout").then((()=>this.$router.push({name:"login"})))}},components:{BSpinner:$e}},Ge=Oe,Ve=(0,d.Z)(Ge,Ne,He,!1,null,null,null),De=Ve.exports,Me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"profile"},[e.$store.state.auth.isLoading||e.$store.state.profileFeed.isLoading?t("BSpinner"):e._e(),t("div",{staticClass:"profile__user-info text-center"},[t("img",{staticClass:"profile__img",attrs:{src:e.profile.image,alt:""}}),t("h2",{staticClass:"profile__username"},[e._v(" "+e._s(e.profile.username)+" ")]),t("p",{staticClass:"profile__bio"},[e._v(" "+e._s(e.profile.bio)+" ")]),t("div",{staticClass:"container"},[t("div",{staticClass:"text-end"},[e.$route.params.slug===e.$store.state.auth.currentUser.username?t("router-link",{staticClass:"profile__link",attrs:{to:{name:"settings"}}},[t("button",{staticClass:"btn btn-outline-primary"},[e._v(" Редактировать профиль ")])]):t("button",{staticClass:"btn",class:{"btn-outline-primary":!e.profile.following,"btn-outline-secondary":e.profile.following},on:{click:e.followHandler}},[e._v(" "+e._s(e.profile.following?"unfollow":"follow")+" ")])],1)])]),t("div",{staticClass:"container"},[t("div",{staticClass:"profile__feeds"},[t("div",{staticClass:"profile__feeds-header"},[t("button",{staticClass:"profile__user-feed-btn",class:{"profile__user-feed-btn-active":e.isActive},attrs:{type:"button"},on:{click:function(t){e.isActive=!e.isActive}}},[e._v(" Мои посты ")]),t("button",{staticClass:"profile__favorited-feed-btn",class:{"profile__user-feed-btn-active":!e.isActive},attrs:{type:"button"},on:{click:function(t){e.isActive=!e.isActive}}},[e._v(" Избранное ")])]),e.isActive?t("BProfileUserFeed"):t("BProfileFavoritedFeed")],1)])],1)},ze=[],Je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[null!==e.$store.state.profileFeed.articles&&e.$store.state.profileFeed.articles.length?t("div",{staticClass:"profile-user-feed"},[e._l(e.$store.state.profileFeed.articles,(function(s){return t("BFeedItem",{key:s.createdAt,attrs:{article:s},on:{favoriteHandler:e.favoriteHandler}})})),t("paginate",{attrs:{"page-count":50,"click-handler":e.getArticlesFromProfileUserFeed,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination justify-content-center mt-5","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","next-class":"page-item","prev-link-class":"page-link","next-link-class":"page-link"}},[e._v(" > ")])],2):e._e(),null!==e.$store.state.profileFeed.articles&&0===e.$store.state.profileFeed.articles.length?t("div",{staticClass:"feed-empty text-center"},[t("div",{staticClass:"fs-4"},[e._v("Пусто...")]),t("router-link",{attrs:{to:{name:"editor"}}},[e._v("Создать")])],1):e._e()])},Re=[],Ke={components:{BFeedItem:O},methods:{getArticlesFromProfileUserFeed(e){this.$store.dispatch("getProfileAuthorFeed",{page:e,slug:this.$route.params.slug})},favoriteHandler({favorited:e,slug:t}){e?this.$store.dispatch("postProfileUserFavorited",t):this.$store.dispatch("deleteProfileUserFavorited",t)}},mounted(){this.$store.dispatch("getProfileAuthorFeed",{slug:this.$route.params.slug,page:0})}},Qe=Ke,We=(0,d.Z)(Qe,Je,Re,!1,null,null,null),Xe=We.exports,Ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[null!==e.$store.state.profileFeed.articles&&e.$store.state.profileFeed.articles.length?t("div",{staticClass:"profile-favorited"},[e._l(e.$store.state.profileFeed.articles,(function(s){return t("BFeedItem",{key:s.createdAt,attrs:{article:s},on:{favoriteHandler:e.favoriteHandler}})})),t("paginate",{attrs:{"page-count":50,"click-handler":e.getArticlesFromFavoritedFeed,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination justify-content-center mt-5","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","next-class":"page-item","prev-link-class":"page-link","next-link-class":"page-link"}},[e._v(" > ")])],2):e._e(),null!==e.$store.state.profileFeed.articles&&0===e.$store.state.profileFeed.articles.length?t("div",{staticClass:"feed-empty text-center"},[t("div",{staticClass:"fs-4"},[e._v("Пусто...")]),t("router-link",{attrs:{to:{name:"editor"}}},[e._v("Создать")])],1):e._e()])},et=[],tt={components:{BFeedItem:O},mounted(){this.$store.dispatch("getProfileFavoritedFeed",{page:0,slug:this.$route.params.slug})},methods:{getArticlesFromFavoritedFeed(e){this.$store.dispatch("getProfileFavoritedFeed",{page:e,slug:this.$route.params.slug})},favoriteHandler({favorited:e,slug:t}){e?this.$store.dispatch("postProfileFavorited",t):this.$store.dispatch("deleteProfileFavorited",t)}}},st=tt,at=(0,d.Z)(st,Ye,et,!1,null,null,null),it=at.exports,rt={components:{BProfileUserFeed:Xe,BProfileFavoritedFeed:it,BSpinner:$e},computed:{...(0,b.Se)(["profile"])},data(){return{isActive:!0}},mounted(){this.$store.dispatch("getProfile",this.$route.params.slug)},methods:{followHandler(){this.profile.following?this.$store.dispatch("unfollow",this.$route.params.slug):this.$store.dispatch("follow",this.$route.params.slug)}}},ot=rt,lt=(0,d.Z)(ot,Me,ze,!1,null,null,null),nt=lt.exports,ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"article"},[e.$store.state.article.isLoading?t("BSpinner"):e._e(),Object.keys(e.$store.state.article.article).length?t("div",{staticClass:"article__inner"},[t("div",{staticClass:"article__header"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"article__title"},[e._v(" "+e._s(e.$store.state.article.article.title)+" ")]),t("div",{staticClass:"article__info-group"},[t("img",{staticClass:"article__user-image",attrs:{src:e.$store.state.article.article.author.image,alt:"user-image"}}),t("div",{staticClass:"article__info"},[t("h6",{staticClass:"article__username"},[e._v(" "+e._s(e.$store.state.article.article.author.username)+" ")]),t("p",{staticClass:"article__created-at"},[e._v(" "+e._s(e.$store.state.article.article.createdAt)+" ")])]),t("router-link",{attrs:{to:{name:"article-editor",params:{slug:this.$route.params.slug}}}},[t("button",{staticClass:"btn btn-outline-primary mx-2"},[e._v("Редактировать пост")])]),t("button",{staticClass:"btn btn-outline-danger",on:{click:function(t){return e.deleteArticle(e.$store.state.article.article.slug)}}},[e._v(" Удалить пост ")])],1),e.$store.state.article.article.tagList?[t("div",{staticClass:"article-tag__tags-wrapper"},e._l(e.$store.state.article.article.tagList,(function(s){return t("div",{key:s,staticClass:"article-tag__tags"},[t("div",{staticClass:"article-tag__tag"},[e._v(" "+e._s(s)+" ")])])})),0)]:e._e()],2)]),t("div",{staticClass:"container"},[t("div",{staticClass:"article__body"},[e._v(e._s(e.$store.state.article.article.body))]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-9 col-lg-9 col-9 mx-auto"},[t("form",{attrs:{action:"post"},on:{submit:function(t){return t.preventDefault(),e.postComment.apply(null,arguments)}}},[t("div",{staticClass:"mt-5"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.body,expression:"body"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Комментарий..."},domProps:{value:e.body},on:{input:function(t){t.target.composing||(e.body=t.target.value)}}})]),e._m(0)])])]),e.$store.state.article.comments.length?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-9 col-lg-9 col-9 mt-3 mx-auto"},e._l(e.$store.state.article.comments,(function(s){return t("div",{key:s.id,staticClass:"article-comment"},[t("p",{staticClass:"article-comment__body"},[e._v(e._s(s.body))]),t("div",{staticClass:"article-comment__footer"},[t("div",{staticClass:"aticle-comment__info-group"},[t("img",{staticClass:"article-comment__image",attrs:{src:s.author.image,alt:""}}),t("p",{staticClass:"article-comment__username"},[e._v(" "+e._s(s.author.username)+" ")]),t("p",{staticClass:"article-comment__created-at"},[e._v(" "+e._s(s.createdAt)+" ")])]),t("i",{staticClass:"material-icons article-comment__delete",on:{click:function(t){return e.deleteComment(s.id)}}},[e._v("delete")])])])})),0)]):e._e()])]):e._e()],1)},dt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-end mt-4"},[t("button",{staticClass:"btn btn-outline-primary px-5",attrs:{type:"submit"}},[e._v(" Отправить ")])])}],ut={data(){return{body:""}},mounted(){this.$store.dispatch("getArticle",this.$route.params.slug),this.$store.dispatch("getComments",this.$route.params.slug)},methods:{postComment(){this.$store.dispatch("postComment",{slug:this.$route.params.slug,body:this.body}).then((()=>{this.$store.dispatch("getComments",this.$route.params.slug)})),this.body=""},deleteComment(e){this.$store.dispatch("deleteComment",{slug:this.$route.params.slug,id:e})},deleteArticle(e){this.$store.dispatch("deleteArticle",e).then((()=>this.$router.push({name:"main-feed"})))}},components:{BSpinner:$e}},mt=ut,gt=(0,d.Z)(mt,ct,dt,!1,null,null,null),vt=gt.exports,pt=function(){var e=this,t=e._self._c;return Object.keys(this.$store.state.article.article).length?t("section",{staticClass:"editor"},[t("div",{staticClass:"container"},[t("div",{staticClass:"col-9 col-md-9 col-lg-9 mx-auto"},[t("form",{staticClass:"mt-5",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addTag.apply(null,arguments))}}},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{placeholder:"Заголовок",type:"text",id:"article-title"},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-control",attrs:{placeholder:"Описание",type:"text",id:"article-description"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),t("div",{staticClass:"mt-3"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.body,expression:"form.body"}],staticClass:"form-control",attrs:{placeholder:"Текст",id:"article-body",rows:"3"},domProps:{value:e.form.body},on:{input:function(t){t.target.composing||e.$set(e.form,"body",t.target.value)}}})])]),t("div",{staticClass:"mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tag,expression:"tag"}],staticClass:"form-control",attrs:{placeholder:"Введите название тэга и нажмите клавишу enter",type:"text",id:"article-title"},domProps:{value:e.tag},on:{input:function(t){t.target.composing||(e.tag=t.target.value)}}})]),this.tags.length?e._l(this.tags,(function(s){return t("div",{key:s,staticClass:"article__tags"},[t("div",{staticClass:"article__tags-wrapper"},[t("div",{staticClass:"article__tag"},[e._v(e._s(s))]),t("div",{staticClass:"material-icons article__tag-close-ico",on:{click:function(t){return e.removeTag(s)}}},[e._v(" close ")])])])})):e._e(),e._m(0)],2)])])]):e._e()},ft=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-end mt-3"},[t("button",{staticClass:"btn btn-primary px-5",attrs:{type:"submit"}},[e._v("Опубликовать")])])}],ht={data(){return{title:"",description:"",body:"",tag:"",tags:[]}},methods:{onSubmit(){this.$store.dispatch("putArticle",{slug:this.$route.params.slug,article:{title:this.form.title,description:this.form.description,body:this.form.body,tagList:this.tags}}).then((()=>{this.$router.push({name:"main-feed"})}))},addTag(){this.tags.includes(this.tag)||""===this.tag.trim()||this.tags.push(this.tag.trim()),this.tag=""},removeTag(e){this.tags=this.tags.filter((t=>t!==e))}},watch:{["form.tags"](){this.tags=this.form.tags}},mounted(){this.$store.dispatch("getArticle",this.$route.params.slug)},computed:{form(){return Object.keys(this.$store.state.article.article).length?{title:this.$store.state.article.article.title,description:this.$store.state.article.article.description,body:this.$store.state.article.article.body,tags:this.$store.state.article.article.tagList?this.$store.state.article.article.tagList:[]}:{title:"",description:"",body:"",tag:"",tagList:[]}}}},_t=ht,Ft=(0,d.Z)(_t,pt,ft,!1,null,null,null),Ct=Ft.exports;a.ZP.use(h.ZP);const bt=[{path:"/",name:"main-feed",component:Te},{path:"/register",name:"register",component:U},{path:"/login",name:"login",component:ke},{path:"/editor/",name:"editor",component:je},{path:"/editor/:slug",name:"article-editor",component:Ct},{path:"/settings",name:"settings",component:De},{path:"/profile/:slug",name:"profile",component:nt},{path:"/article/:slug",name:"article",component:vt},{path:"*",redirect:{name:"main-feed"}}],$t=new h.ZP({mode:"history",base:"/blog/",routes:bt});var wt=$t;const St=(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(s){console.log("errors from localStorage",s)}},Pt=e=>{try{return JSON.parse(window.localStorage.getItem(e))}catch(t){console.log("errors from localStorage",t)}};var yt=s(6265),Lt=s.n(yt);Lt().defaults.baseURL="https://api.realworld.io/api",Lt().interceptors.request.use((e=>{const t=Pt("accessToken"),s=t?`Token ${t}`:"";return e.headers.Authorization=s,e}));var kt=Lt();const xt={register(e){return kt.post("/users",{user:e})},login(e){return kt.post("/users/login",{user:e})},getCurrentUser(){return kt.get("/user")}};var At=xt;const Ut={isSubmitting:!1,isLoading:!1,currentUser:{},validationsError:null,isLoggedIn:null},Tt={registerStart(e){e.isSubmitting=!0,e.validationsError=null},registerSuccess(e,t){e.isSubmitting=!1,e.currentUser=t,e.isLoggedIn=!0},registerFailure(e,t){e.isSubmitting=!1,e.validationsError=t},loginStart(e){e.isSubmitting=!0},loginSuccess(e,t){e.isSubmitting=!1,e.isLoggedIn=!0,e.currentUser=t},loginFailure(e,t){e.isSubmitting=!1,e.validationsError=t},resetValidationsError(){Ut.validationsError=null},getCurrentUserStart(e){e.isLoading=!0,e.isLoggedIn=null},getCurrentUserSuccess(e,t){e.currentUser=t,e.isLoading=!1,e.isLoggedIn=!0},getCurrentUserFailure(e,t){e.validationsError=t,e.isLoading=!1,e.isLoggedIn=!1},logout(e){e.isLoading=!1,e.isLoggedIn=!1}},Bt={register({commit:e},t){return new Promise((s=>{e("registerStart"),At.register(t).then((t=>{e("registerSuccess",t.data.user),St("accessToken",t.data.user.token),s()})).catch((t=>{e("registerFailure",t.response.data.errors),reject()}))}))},login({commit:e},t){return new Promise((s=>{e("loginStart"),At.login(t).then((t=>{e("loginSuccess",t.data.user),St("accessToken",t.data.user.token),s(t.data.user)})).catch((t=>{e("loginFauilure",t.response.data.user.errors),reject()}))}))},getCurrentUser({commit:e}){return new Promise(((t,s)=>{e("getCurrentUserStart"),At.getCurrentUser().then((s=>{e("getCurrentUserSuccess",s.data.user),t()})).catch((t=>{e("getCurrentUserFailure",t.response.data.errors),s()}))}))},logout({commit:e}){return new Promise((t=>{St("accessToken",""),e("logout"),t()}))}},Et={currentUser(e){return e.currentUser}};var It={state:Ut,mutations:Tt,actions:Bt,getters:Et};const Zt={getGlobalFeed(e){return kt.get("/articles?limit=5&offset="+(e?5*(e-1):0))},postFavorite(e){return kt.post(`/articles/${e}/favorite`)},deleteFavorite(e){return kt["delete"](`/articles/${e}/favorite`)}};var qt=Zt;const jt={articles:null,isLoading:!1},Nt={getGlobalFeedStart(e){e.isLoading=!0},getGlobalFeedSuccess(e,t){e.isLoading=!1,e.articles=t},getGlobalFeedFailure(e){e.isLoading=!1,e.articles=[]},postProfileFavoritedStart(e){e.isLoading=!0},postProfileFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},postProfileFavoritedFailure(e){e.isLoading=!1},deleteProfileFavoritedStart(e){e.isLoading=!0},deleteProfileUserFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},deleteProfileFavoritedFailure(e){e.isLoading=!1}},Ht={getGlobalFeed({commit:e},t){return new Promise((s=>{e("getGlobalFeedStart"),qt.getGlobalFeed(t).then((t=>{e("getGlobalFeedSuccess",t.data.articles)})).catch((t=>{e("getGlobalFeedFailure"),console.log("errors from getGlobalFeed",t.response.data)}))}))},postGlobalFavorited({commit:e},t){return new Promise((s=>{e("postProfileFavoritedStart"),qt.postFavorite(t).then((t=>{e("postProfileFavoritedSuccess",t.data.article)})).catch((t=>{e("postProfileFavoritedFailure"),console.log("errors from postProfileFavorited",t.response.data)}))}))},deleteGlobalFavorited({commit:e},t){return new Promise((s=>{e("deleteProfileFavoritedStart"),qt.deleteFavorite(t).then((t=>{e("deleteProfileUserFavoritedSuccess",t.data.article)})).catch((t=>{e("deleteProfileFavoritedFailure"),console.log("errors from deleteProfileFavoritedFailure",t.response.data)}))}))}};var Ot={state:jt,mutations:Nt,actions:Ht};const Gt={getUserFeed(e){return kt.get("/articles/feed?limit=5&offset="+(e?5*(e-1):0))},postFavorite(e){return kt.post(`/articles/${e}/favorite`)},deleteFavorite(e){return kt["delete"](`/articles/${e}/favorite`)}};var Vt=Gt;const Dt={articles:null,isLoading:!1},Mt={getUserFeedStart(e){e.isLoading=!0},getUserFeedStuccess(e,t){e.isLoading=!1,e.articles=t},getUserFeedFailure(e){e.isLoading=!1,e.articles=[]},postUserFeedFavoritedStart(e){e.isLoading=!0},postUserFeedFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},postUserFeedFavoritedFailure(e){e.isLoading=!1},deleteUserFeedFavoritedStart(e){e.isLoading=!0},deleteUserFeedFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},deleteUserFeedFavoritedFailure(e){e.isLoading=!1}},zt={getUserFeed({commit:e},t){return e("getUserFeedStart"),new Promise((s=>{Vt.getUserFeed(t).then((t=>{e("getUserFeedStuccess",t.data.articles),s(t.data.articles)})).catch((t=>{e("getUserFeedFailure"),console.log("errors from userFeed",t.response)}))}))},postUserFeedFavorited({commit:e},t){return new Promise((s=>{e("postUserFeedFavoritedStart"),Vt.postFavorite(t).then((t=>{e("postUserFeedFavoritedSuccess",t.data.article)})).catch((t=>{e("postUserFeedFavoritedFailure"),console.log("errors from postUserFeedFavorited",t.response.data)}))}))},deleteUserFeedFavorited({commit:e},t){return new Promise((s=>{e("deleteUserFeedFavoritedStart"),Vt.deleteFavorite(t).then((t=>{e("deleteUserFeedFavoritedSuccess",t.data.article)})).catch((t=>{e("deleteUserFeedFavoritedFailure"),console.log("errors from deleteUserFeedFavorited",t.response.data)}))}))}};var Jt={state:Dt,mutations:Mt,actions:zt};const Rt={updateSettings(e){return Lt().put("/user",{user:e})}};var Kt=Rt;const Qt={user:{},isLoading:!1},Wt={updateSettingsStart(e){e.isLoading=!0},updateSettingsSuccess(e,t){e.isLoading=!0,e.user=t},updateSettingsFailure(e){e.isLoading=!0}},Xt={updateSettings({commit:e},t){return new Promise((s=>{e("updateSettingsStart"),Kt.updateSettings(t).then((t=>{e("updateSettingsSuccess",t.data.user),s(t.data.user)})).catch((t=>{console.log("errors from update settings",t.response.data),e("updateSettingsFailure")}))}))}};var Yt={state:Qt,mutations:Wt,actions:Xt};const es={getAuthorFeed(e,t){return kt.get(`/articles?author=${e}&limit=5&offset=${t?5*(t-1):0}`)},getFavoritedFeed(e,t){return kt.get(`/articles?favorited=${e}&limit=5&offset=${t?5*(t-1):0}`)},postFavorite(e){return kt.post(`/articles/${e}/favorite`)},deleteFavorite(e){return kt["delete"](`/articles/${e}/favorite`)}};var ts=es;const ss={articles:null,isLoading:!1},as={getProfileAuthorFeedStart(e){e.isLoading=!0},getProfileAuthorFeedSuccess(e,t){e.isLoading=!1,e.articles=t},getProfileAuthorFeedFailure(e){e.isLoading=!1,e.articles=[]},getProfileFavoritedFeedStart(e){e.isLoading=!0},getProfileFavoritedFeedSuccess(e,t){e.isLoading=!1,e.articles=t},getProfileFavoritedFeedFailure(e){e.isLoading=!1,e.articles=[]},postProfileFavoritedStart(e){e.isLoading=!0},postProfileFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},postProfileFavoritedFailure(e){e.isLoading=!1},deleteProfileFavoritedStart(e){e.isLoading=!0},deleteProfileFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favorited=!e.favorited),e))).filter((e=>e.favorited!==t.favorited))},deleteProfileUserFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},deleteProfileFavoritedFailure(e){e.isLoading=!1}},is={getProfileAuthorFeed({commit:e},{slug:t,page:s}){return new Promise((a=>{e("getProfileAuthorFeedStart"),ts.getAuthorFeed(t,s).then((t=>{e("getProfileAuthorFeedSuccess",t.data.articles),a(t.data.articles)})).catch((t=>{e("getProfileAuthorFeedFailure"),console.log("errrors from getProfileAuthorFeed",t.response.data)}))}))},getProfileFavoritedFeed({commit:e},{slug:t,page:s}){return new Promise((a=>{e("getProfileFavoritedFeedStart"),ts.getFavoritedFeed(t,s).then((t=>{e("getProfileFavoritedFeedSuccess",t.data.articles),a(t.data.articles)})).catch((t=>{e("getProfileFavoritedFeedFailure"),console.log("errrors from getProfileFavoritedFeed",t.response.data)}))}))},postProfileFavorited({commit:e},t){return new Promise((s=>{e("postProfileFavoritedStart"),ts.postFavorite(t).then((t=>{e("postProfileFavoritedSuccess",t.data.article)})).catch((t=>{e("postProfileFavoritedFailure"),console.log("errors from postProfileFavorited",t.response.data)}))}))},deleteProfileFavorited({commit:e},t){return new Promise((s=>{e("deleteProfileFavoritedStart"),ts.deleteFavorite(t).then((t=>{e("deleteProfileFavoritedSuccess",t.data.article)})).catch((t=>{e("deleteProfileFavoritedFailure"),console.log("errors from deleteProfileFavoritedFailure",t.response.data)}))}))},postProfileUserFavorited({commit:e},t){return new Promise((s=>{e("postProfileFavoritedStart"),ts.postFavorite(t).then((t=>{e("postProfileFavoritedSuccess",t.data.article)})).catch((t=>{e("postProfileFavoritedFailure"),console.log("errors from postProfileFavorited",t.response.data)}))}))},deleteProfileUserFavorited({commit:e},t){return new Promise((s=>{e("deleteProfileFavoritedStart"),ts.deleteFavorite(t).then((t=>{e("deleteProfileUserFavoritedSuccess",t.data.article)})).catch((t=>{e("deleteProfileFavoritedFailure"),console.log("errors from deleteProfileFavoritedFailure",t.response.data)}))}))}};var rs={state:ss,mutations:as,actions:is};const os={getProfile(e){return kt.get(`/profiles/${e}`)},follow(e){return kt.post(`/profiles/${e}/follow`)},unfollow(e){return kt["delete"](`/profiles/${e}/follow`)}};var ls=os;const ns={profile:{},isLoading:!1},cs={getProfileStart(e){e.isLoading=!0},getProfileSuccess(e,t){e.isLoading=!1,e.profile=t},getProfileFailure(e){e.isLoading=!1},followStart(e){e.isLoading=!0},followSuccess(e){e.isLoading=!1,e.profile.following=!e.profile.following},followFailure(e){e.isLoading=!1},unfollowStart(e){e.isLoading=!0},unfollowSuccess(e){e.isLoading=!1,e.profile.following=!e.profile.following},unfollowFailure(e){e.isLoading=!1}},ds={getProfile({commit:e},t){return new Promise((s=>{e("getProfileStart"),ls.getProfile(t).then((t=>{e("getProfileSuccess",t.data.profile),s(t.data.profile)})).catch((e=>{console.log("errors from profile",e.response)}))}))},follow({commit:e},t){return new Promise((s=>{e("followStart"),ls.follow(t).then((t=>{e("followSuccess",t.data.profile),s()})).catch((t=>{e("followFailure"),console.log("errors from profile",t.response)}))}))},unfollow({commit:e},t){return new Promise((s=>{e("unfollowStart"),ls.unfollow(t).then((t=>{e("unfollowSuccess",t.data.profile),s()})).catch((t=>{e("unfollowFailure"),console.log("errors from profile",t.response)}))}))}},us={profile(e){return e.profile}};var ms={state:ns,mutations:cs,actions:ds,getters:us};const gs={getArticle(e){return kt.get(`/articles/${e}`)},postArticle(e){return kt.post("/articles",{article:e})},putArticle(e,t){return kt.put(`/articles/${e}`,{article:t})},postComment({slug:e,body:t}){return kt.post(`/articles/${e}/comments`,{comment:{body:t}})},getComments(e){return kt.get(`/articles/${e}/comments`)},deleteComment({slug:e,id:t}){return kt["delete"](`/articles/${e}/comments/${t}`)},deleteArticle(e){return kt["delete"](`/articles/${e}`)}};var vs=gs;const ps={article:{},isLoading:!1,comments:[]},fs={getArticleStart(e){e.isLoading=!0},getArticleSuccess(e,t){e.isLoading=!1,e.article=t},getArticleFailure(e){e.isLoading=!1},postArticleStart(e){e.isLoading=!0},postArticleSuccess(e,t){e.isLoading=!1,e.article=t},postArticleFailure(e){e.isLoading=!1},putArticleStart(e){e.isLoading=!0},putArticleSuccess(e,t){e.isLoading=!1,e.article=t},putArticleFailure(e){e.isLoading=!1},postCommentStart(e){e.isLoading=!0},postCommentSuccess(e,t){e.isLoading=!1,e.comments.push(t)},postCommentFailure(e){e.isLoading=!1},getCommentsStart(e){e.isLoading=!0},getCommentsSuccess(e,t){e.isLoading=!1,e.comments=t},getCommentsFailure(e){e.isLoading=!1},deleteCommentStart(e){e.isLoading=!0},deleteCommentSuccess(e,t){e.isLoading=!1,e.comments=e.comments.filter((e=>e.id!==t.id))},deleteCommentFailure(e){e.isLoading=!1},deleteArticleStart(e){e.isLoading=!0},deleteArticleSuccess(e){e.isLoading=!1},deleteArticleFailure(e){e.isLoading=!1}},hs={getArticle({commit:e},t){return new Promise((s=>{e("getArticleStart"),vs.getArticle(t).then((t=>{e("getArticleSuccess",t.data.article),s(t.data.article)})).catch((t=>{e("getArticleFailure",t.response.data)}))}))},postArticle({commit:e},{article:t}){return e("postArticleStart"),new Promise((s=>{vs.postArticle(t).then((t=>{e("postArticleSuccess",t.data.article),s(t.data.article)})).catch((t=>{e("postArticleFailure"),console.log("errors from editor",t.response.data)}))}))},putArticle({commit:e},{slug:t,article:s}){return e("putArticleStart"),new Promise((a=>{vs.putArticle(t,s).then((t=>{e("putArticleSuccess",t.data.article),a(t.data.article)})).catch((t=>{e("putArticleFailure"),console.log("errors from editor",t.response.data)}))}))},postComment({commit:e},t){return new Promise((s=>{e("postCommentStart"),vs.postComment(t).then((t=>{e("postCommentSuccess",t.data.comment),s()})).catch((t=>{e("postCommentFailure"),console.log("errors from comment",t.response.data)}))}))},getComments({commit:e},t){return new Promise((s=>{e("getCommentsStart"),vs.getComments(t).then((t=>{e("getCommentsSuccess",t.data.comments),s(t.data.comments)})).catch((t=>{e("getCommentsFailure"),console.log("errors from get comments",t.response.errors)}))}))},deleteComment({commit:e},t){return new Promise((s=>{e("deleteCommentStart"),vs.deleteComment(t).then((s=>{e("deleteCommentSuccess",t)})).catch((t=>{e("deleteCommentFailure"),console.log("errors from delete comments",t.response.errors)}))}))},deleteArticle({commit:e},t){return new Promise((s=>{e("deleteArticleStart"),vs.deleteArticle(t).then((t=>{e("deleteArticleSuccess"),s()})).catch((t=>{e("deleteArticleFailure"),console.log("errors from delete article",t.response.errors)}))}))}};var _s={state:ps,mutations:fs,actions:hs};const Fs={getTags(){return kt.get("/tags")},getTagsFeed(e,t){return kt.get(`articles?limit=5&offset=${e}&tag=${t}`)},postTagsFavorite(e){return kt.post(`/articles/${e}/favorite`)},deleteTagsFavorite(e){return kt["delete"](`/articles/${e}/favorite`)}};var Cs=Fs;const bs={tags:[],articles:[],isLoading:!1},$s={getTagsStart(e){e.isLoading=!0},getTagsSuccess(e,t){e.isLoading=!1,e.tags=t},getTagsFailure(e){e.isLoading=!1},getTagsFeedStart(e){e.isLoading=!0},getTagsFeedSuccess(e,t){e.isLoading=!1,e.articles=t},getTagsFeedFailure(e){e.isLoading=!1},postTagsFavoritedStart(e){e.isLoading=!0},postTagsFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},postTagsFavoritedFailure(e){e.isLoading=!1},deleteTagsFavoritedStart(e){e.isLoading=!0},deleteTagsUserFavoritedSuccess(e,t){e.isLoading=!1,e.articles=e.articles.map((e=>(e.slug===t.slug&&(e.favoritesCount=t.favoritesCount,e.favorited=!e.favorited),e)))},deleteTagsFavoritedFailure(e){e.isLoading=!1}},ws={getTags({commit:e}){return new Promise((t=>{e("getTagsStart"),Cs.getTags().then((s=>{e("getTagsSuccess",s.data.tags),t()})).catch((t=>{e("getTagsFailure"),console.log("errors from getTags",t.response.data)}))}))},getTagsFeed({commit:e},{page:t,tag:s}){return new Promise((a=>{e("getTagsFeedStart"),Cs.getTagsFeed(t,s).then((t=>{e("getTagsFeedSuccess",t.data.articles),a()})).catch((t=>{e("getTagsFeedFailure"),console.log("errors from getTagsFeedFailure",t.response.data)}))}))},postTagsFavorited({commit:e},t){return new Promise((s=>{e("postTagsFavoritedStart"),Cs.postTagsFavorite(t).then((t=>{e("postTagsFavoritedSuccess",t.data.article)})).catch((t=>{e("postTagsFavoritedFailure"),console.log("errors from postTagsFavorited",t.response.data)}))}))},deleteTagsFavorited({commit:e},t){return new Promise((s=>{e("deleteTagsFavoritedStart"),Cs.deleteTagsFavorite(t).then((t=>{e("deleteTagsUserFavoritedSuccess",t.data.article)})).catch((t=>{e("deleteTagsFavoritedFailure"),console.log("errors from deleteTagsFavoritedFailure",t.response.data)}))}))}};var Ss={state:bs,mutations:$s,actions:ws};a.ZP.use(b.ZP);var Ps=new b.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:It,globalFeed:Ot,userFeed:Jt,updateSettings:Yt,profileFeed:rs,profile:ms,article:_s,tags:Ss}}),ys=s(2806),Ls=s.n(ys),ks=s(4659);a.ZP.use(ks.ZP),a.ZP.use(Ls()),a.ZP.component("paginate",Ls()),a.ZP.config.productionTip=!1,new a.ZP({router:wt,store:Ps,render:e=>e(f)}).$mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,r){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],r=e[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(l=!1,r<o&&(o=r));if(l){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,i,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,o=a[0],l=a[1],n=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(n)var d=n(s)}for(t&&t(a);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunkblog"]=self["webpackChunkblog"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3062)}));a=s.O(a)})();
//# sourceMappingURL=app.8636068b.js.map